{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///rudy-captcha.js","webpack:///webpack/bootstrap 2c68ddad5abaab52d64e","webpack:///./libs/index.js","webpack:///./libs/src/main.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","_main","_main2","obj","default","Captch","install","Vue","component","window","props","width","type","Number","height","bgColor","String","captchaCodes","colors","Array","fontStyle","fontFamily","fontSizeMin","fontSizeMax","codeLength","textFuzzy","lineColorMax","lineColorMin","lineColorOpacity","lineFuzzy","lineWidth","lineNumber","dotColorMax","dotColorMin","dotColorOpacity","dotFuzzy","dotNumber","dotR","cursor","clickFresh","Boolean","data","captchaCode","render","h","style","display","font-size","ref","attrs","on","click","updateCode","backgroundColor","mounted","ctx","$refs","rudyCaptcha","getContext","methods","refreshCode","drawLine","drawDot","drawImg","randomNum","length","min","max","Math","floor","random","randomRgbColor","randomRgbaColor","opacity","textAlign","textBaseline","drawText","txt","shadowColor","calcColor","shadowBlur","shadowOffsetY","fontSize","font","x","diff","y","abs","deg","translate","rotate","PI","strokeText","fillText","color","colorNum","colorVals","trim","one","substr","push","parseInt","two","thr","replace","split","map","item","valid","code","toLocaleLowerCase","beginPath","startX","startY","moveTo","endX","endY","lineTo","stroke","arc","fill"],"mappings":"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","file":"rudy-captcha.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rudy-captcha\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rudy-captcha\"] = factory();\n\telse\n\t\troot[\"rudy-captcha\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rudy-captcha\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rudy-captcha\"] = factory();\n\telse\n\t\troot[\"rudy-captcha\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _main = __webpack_require__(1);\n\nvar _main2 = _interopRequireDefault(_main);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_main2.default.install = function (Vue) {\n  Vue.component(_main2.default.name, _main2.default);\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  _main2.default.install(window.Vue);\n}\n\nexports.default = _main2.default;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* istanbul ignore next */\nexports.default = {\n  name: \"RudyCaptcha\",\n\n  props: {\n    width: { // 验证码宽度\n      type: Number,\n      default: 82\n    },\n    height: { // 验证码高度\n      type: Number,\n      default: 38\n    },\n    bgColor: { // 验证码背景色（设置后可判断计算背景差值去除相似色，不支持透明度色值，支持16进制与rgb色值）\n      type: String,\n      default: '#ffffff'\n    },\n    captchaCodes: { // 验证码可选值（随机选取其中一定长度数值，根据codeLength判断长度）\n      type: String,\n      default: 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n    },\n    colors: { // 在传入数组的颜色中随机选取值赋值给文字（希望背景颜色与文字颜色色差较大时设置此参数），默认为空，取随机颜色值。\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    fontStyle: { // 支持实心字与空心字 both为随机实心或空心\n      type: String,\n      default: 'both' // 支持 line solid both 默认both\n    },\n    fontFamily: { // 支持设置字体，受限与canvas支持少量字体，具体支持字体请自行尝试（不支持多个字体候选，谷歌支持多个字体 IE 火狐不支持）\n      type: String,\n      default: '微软雅黑'\n    },\n    fontSizeMin: { // 字体随机最小值 不建议设置过小\n      type: Number,\n      default: 12\n    },\n    fontSizeMax: { // 字体随机最大值 不建议设置过大\n      type: Number,\n      default: 38\n    },\n    codeLength: { // 验证码长度，默认4个\n      type: Number,\n      default: 4\n    },\n    textFuzzy: { // 文字随机羽化值，默认最大3px\n      type: Number,\n      default: 3\n    },\n    lineColorMax: { // 干扰线最大随机颜色值 最大255\n      type: Number,\n      default: 200\n    },\n    lineColorMin: { // 干扰线最小随机颜色值 最小0\n      type: Number,\n      default: 30\n    },\n    lineColorOpacity: { // 干扰线透明度 0-1\n      type: Number,\n      default: .2\n    },\n    lineFuzzy: { // 干扰线羽化值 同文字羽化值相同\n      type: Number,\n      default: 3\n    },\n    lineWidth: { // 干扰线宽度\n      type: Number,\n      default: 5\n    },\n    lineNumber: { // 干扰线数量 为0时无干扰线\n      type: Number,\n      default: 0\n    },\n    dotColorMax: { // 干扰点最大随机颜色值 最大255\n      type: Number,\n      default: 200\n    },\n    dotColorMin: { // 干扰点最小随机颜色值 最小0\n      type: Number,\n      default: 30\n    },\n    dotColorOpacity: { // 干扰点透明度0-1\n      type: Number,\n      default: .2\n    },\n    dotFuzzy: { // 干扰点最大羽化值\n      type: Number,\n      default: 10\n    },\n    dotNumber: { // 干扰点数量 为0无干扰点\n      type: Number,\n      default: 0\n    },\n    dotR: { // 干扰点最大半径\n      type: Number,\n      default: 10\n    },\n    cursor: { // 点击刷新鼠标类型\n      type: String,\n      default: 'pointer'\n    },\n    clickFresh: Boolean // 是否点击验证码刷新\n  },\n\n  data: function data() {\n    return {\n      captchaCode: ''\n    };\n  },\n  render: function render(h) {\n    var style = {\n      'display': 'inline-block',\n      'font-size': 0\n    };\n    var canvas = h('canvas', {\n      ref: 'rudyCaptcha',\n      attrs: { width: this.width,\n        height: this.height\n      },\n      on: {\n        'click': this.clickFresh && this.updateCode\n      },\n\n      style: { backgroundColor: this.bgColor, cursor: this.clickFresh && this.cursor }\n    });\n    return h(\"div\", {\n      style: style\n    }, [canvas]);\n  },\n  mounted: function mounted() {\n    // 'rgba(255,255,255,0)'.replace(/rgb\\(|\\)|rgba\\(/g,'').split(',')\n    // '#ffeedd'.substr(5,2)\n    this.ctx = this.$refs.rudyCaptcha.getContext('2d');\n    this.updateCode();\n  },\n\n\n  methods: {\n    updateCode: function updateCode() {\n      this.refreshCode();\n      this.$refs.rudyCaptcha.width = this.width;\n      this.$refs.rudyCaptcha.height = this.height;\n      // this.ctx.fillStyle = this.bgColor;\n      // this.ctx.fillRect(0, 0, this.width, this.height);\n\n      this.drawLine();\n      this.drawDot();\n      this.drawImg();\n    },\n    refreshCode: function refreshCode() {\n      this.captchaCode = \"\";\n      for (var i = 0; i < this.codeLength; i++) {\n        this.captchaCode += this.captchaCodes[this.randomNum(0, this.captchaCodes.length)];\n      }\n    },\n    randomNum: function randomNum(min, max) {\n      return Math.floor(Math.random() * (max - min) + min);\n    },\n    randomRgbColor: function randomRgbColor(min, max) {\n      var r = this.randomNum(min, max);\n      var g = this.randomNum(min, max);\n      var b = this.randomNum(min, max);\n      return 'rgb(' + r + ',' + g + ',' + b + ')';\n    },\n    randomRgbaColor: function randomRgbaColor(min, max, opacity) {\n      var r = this.randomNum(min, max);\n      var g = this.randomNum(min, max);\n      var b = this.randomNum(min, max);\n      return 'rgb(' + r + ',' + g + ',' + b + ', ' + opacity + ')';\n    },\n    drawImg: function drawImg() {\n      this.ctx.textAlign = \"center\";\n      this.ctx.textBaseline = \"middle\";\n      this.ctx.lineWidth = 1;\n      for (var i = 0; i < this.codeLength; i++) {\n        this.drawText(this.captchaCode[i], i);\n      }\n    },\n    drawText: function drawText(txt, i) {\n      var ctx = this.ctx;\n      ctx.shadowColor = this.calcColor();\n      ctx.shadowBlur = this.randomNum(0, this.textFuzzy);\n      ctx.shadowOffsetY = this.height * 2;\n      var fontSize = this.randomNum(this.fontSizeMin, this.fontSizeMax);\n\n      ctx.font = fontSize + 'px ' + this.fontFamily;\n\n      var x = (i + 1) * (this.width / (this.codeLength + 1));\n      var diff = (this.height - fontSize - 6) / 2;\n      var y = this.height / 2 - this.height * 2;\n      y += this.randomNum(-Math.abs(diff) + 3, Math.abs(diff) + 3);\n      var deg = this.randomNum(-45, 45);\n      // 修改坐标原点和旋转角度\n      ctx.translate(x, y);\n      ctx.rotate(deg * Math.PI / 180);\n\n      // 实心或空心字\n      switch (this.fontStyle) {\n        // case 'both':\n        //   i % 2 ? ctx.fillText(txt, 0, 0): ctx.strokeText(txt, 0, 0);\n        //   break;\n        case 'line':\n          ctx.strokeText(txt, 0, 0);\n          break;\n        case 'solid':\n          ctx.fillText(txt, 0, 0);\n          break;\n        default:\n          i % 2 ? ctx.fillText(txt, 0, 0) : ctx.strokeText(txt, 0, 0);\n      }\n      // 恢复坐标原点和旋转角度\n      ctx.rotate(-deg * Math.PI / 180);\n      ctx.translate(-x, -y);\n    },\n    calcColor: function calcColor() {\n      var color = this.randomRgbColor(0, 255);\n      var colorNum = 0;\n      if (this.colors.length) {\n        colorNum = 2;\n        color = this.colors[this.randomNum(0, this.colors.length)];\n      } else {\n        var colorVals = [];\n        switch (this.bgColor.trim().length) {\n          case 4:\n            var one = this.bgColor.substr(1, 1);\n            colorVals.push(parseInt(one += one, 16));\n            var two = this.bgColor.substr(2, 1);\n            colorVals.push(parseInt(two += two, 16));\n            var thr = this.bgColor.substr(3, 1);\n            colorVals.push(parseInt(thr += thr, 16));\n            break;\n          case 7:\n            colorVals.push(parseInt(this.bgColor.substr(1, 2), 16));\n            colorVals.push(parseInt(this.bgColor.substr(3, 2), 16));\n            colorVals.push(parseInt(this.bgColor.substr(5, 2), 16));\n            break;\n          case 11:\n            colorVals = [1000, 1000, 1000];\n          default:\n            colorVals = this.bgColor.replace(/rgb\\(|\\)|rgba\\(/g, '').split(',');\n        }\n        var textColorVals = color.replace(/rgb\\(|\\)|rgba\\(/g, '').split(',');\n\n        textColorVals.map(function (item, i) {\n          if (Math.abs(item - colorVals[i]) > 80) {\n            colorNum++;\n          }\n        });\n      }\n\n      if (colorNum > 1) {\n        return color;\n      } else {\n        return this.calcColor();\n      }\n    },\n    valid: function valid(code) {\n      return code.toLocaleLowerCase() === this.captchaCode.toLocaleLowerCase();\n    },\n    drawLine: function drawLine() {\n      // 绘制干扰线\n      var ctx = this.ctx;\n      // debugger;\n      for (var i = 0; i < this.lineNumber; i++) {\n        ctx.beginPath();\n\n        ctx.shadowColor = this.randomRgbaColor(this.lineColorMin, this.lineColorMax, this.lineColorOpacity);\n        ctx.shadowBlur = this.randomNum(0, this.lineFuzzy);\n        ctx.shadowOffsetY = this.height * 2;\n        ctx.lineWidth = this.randomNum(2, this.lineWidth);\n\n        var startX = this.randomNum(0, this.width);\n        var startY = this.randomNum(0, this.height) - this.height * 2;\n        ctx.moveTo(startX, startY);\n\n        var endX = this.randomNum(0, this.width);\n        var endY = this.randomNum(0, this.height) - this.height * 2;\n        ctx.lineTo(endX, endY);\n\n        ctx.stroke();\n      }\n    },\n    drawDot: function drawDot() {\n      var ctx = this.ctx;\n      // 绘制干扰点\n      for (var i = 0; i < this.dotNumber; i++) {\n        ctx.shadowColor = this.randomRgbaColor(this.dotColorMin, this.dotColorMax, this.dotColorOpacity);\n        ctx.shadowBlur = this.randomNum(0, this.dotFuzzy);\n        ctx.shadowOffsetY = this.height * 2;\n\n        ctx.beginPath();\n        var x = this.randomNum(0, this.width);\n        var y = this.randomNum(0, this.height) - this.height * 2;\n        ctx.arc(x, y, this.randomNum(1, this.dotR), 0, 2 * Math.PI);\n        ctx.fill();\n      }\n    }\n  }\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// rudy-captcha.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2c68ddad5abaab52d64e","import Captch from './src/main.js';\r\n\r\nCaptch.install = (Vue) => {\r\n  Vue.component(Captch.name, Captch)\r\n}\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  Captch.install(window.Vue)\r\n}\r\n\r\nexport default Captch;\n\n\n// WEBPACK FOOTER //\n// ./libs/index.js","/* istanbul ignore next */\r\nexport default {\r\n  name: \"RudyCaptcha\",\r\n\r\n  props: {\r\n    width: { // 验证码宽度\r\n      type: Number,\r\n      default: 82\r\n    },\r\n    height: { // 验证码高度\r\n      type: Number,\r\n      default: 38\r\n    },\r\n    bgColor: { // 验证码背景色（设置后可判断计算背景差值去除相似色，不支持透明度色值，支持16进制与rgb色值）\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    captchaCodes: { // 验证码可选值（随机选取其中一定长度数值，根据codeLength判断长度）\r\n      type: String,\r\n      default: 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\r\n    },\r\n    colors: { // 在传入数组的颜色中随机选取值赋值给文字（希望背景颜色与文字颜色色差较大时设置此参数），默认为空，取随机颜色值。\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n    fontStyle: { // 支持实心字与空心字 both为随机实心或空心\r\n      type: String,\r\n      default: 'both' // 支持 line solid both 默认both\r\n    },\r\n    fontFamily: { // 支持设置字体，受限与canvas支持少量字体，具体支持字体请自行尝试（不支持多个字体候选，谷歌支持多个字体 IE 火狐不支持）\r\n      type: String,\r\n      default: '微软雅黑'\r\n    },\r\n    fontSizeMin: { // 字体随机最小值 不建议设置过小\r\n      type: Number,\r\n      default: 12\r\n    },\r\n    fontSizeMax: { // 字体随机最大值 不建议设置过大\r\n      type: Number,\r\n      default: 38\r\n    },\r\n    codeLength: { // 验证码长度，默认4个\r\n      type: Number,\r\n      default: 4\r\n    },\r\n    textFuzzy: { // 文字随机羽化值，默认最大3px\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    lineColorMax: { // 干扰线最大随机颜色值 最大255\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    lineColorMin: { // 干扰线最小随机颜色值 最小0\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    lineColorOpacity: { // 干扰线透明度 0-1\r\n      type: Number,\r\n      default: .2\r\n    },\r\n    lineFuzzy: { // 干扰线羽化值 同文字羽化值相同\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    lineWidth: { // 干扰线宽度\r\n      type: Number,\r\n      default: 5\r\n    },\r\n    lineNumber: { // 干扰线数量 为0时无干扰线\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dotColorMax: { // 干扰点最大随机颜色值 最大255\r\n      type: Number,\r\n      default: 200\r\n    },\r\n    dotColorMin: { // 干扰点最小随机颜色值 最小0\r\n      type: Number,\r\n      default: 30\r\n    },\r\n    dotColorOpacity: {// 干扰点透明度0-1\r\n      type: Number,\r\n      default: .2\r\n    },\r\n    dotFuzzy: { // 干扰点最大羽化值\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    dotNumber: { // 干扰点数量 为0无干扰点\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    dotR: { // 干扰点最大半径\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    cursor: { // 点击刷新鼠标类型\r\n      type: String,\r\n      default: 'pointer'\r\n    },\r\n    clickFresh: Boolean // 是否点击验证码刷新\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      captchaCode: ''\r\n    };\r\n  },\r\n\r\n  render(h) {\r\n    const style = {\r\n      'display': 'inline-block',\r\n      'font-size': 0\r\n    }\r\n    const canvas = (\r\n      <canvas\r\n        ref=\"rudyCaptcha\"\r\n        width={this.width}\r\n        height={this.height}\r\n        onClick={this.clickFresh && this.updateCode}\r\n        style={{backgroundColor: this.bgColor, cursor: this.clickFresh && this.cursor}}\r\n      ></canvas>\r\n    )\r\n    return h(\r\n      \"div\",\r\n      {\r\n        style: style\r\n      },\r\n      [canvas]\r\n    );\r\n  },\r\n\r\n  mounted() {\r\n    // 'rgba(255,255,255,0)'.replace(/rgb\\(|\\)|rgba\\(/g,'').split(',')\r\n    // '#ffeedd'.substr(5,2)\r\n    this.ctx = this.$refs.rudyCaptcha.getContext('2d');\r\n    this.updateCode();\r\n  },\r\n\r\n  methods: {\r\n    updateCode () {\r\n      this.refreshCode ();\r\n      this.$refs.rudyCaptcha.width = this.width;\r\n      this.$refs.rudyCaptcha.height = this.height;\r\n      // this.ctx.fillStyle = this.bgColor;\r\n      // this.ctx.fillRect(0, 0, this.width, this.height);\r\n\r\n      this.drawLine();\r\n      this.drawDot();\r\n      this.drawImg();\r\n      \r\n    },\r\n    refreshCode () {\r\n      this.captchaCode = \"\";\r\n      for (let i = 0; i < this.codeLength; i++) {\r\n        this.captchaCode += this.captchaCodes[this.randomNum(0, this.captchaCodes.length)]\r\n      }\r\n    },\r\n    randomNum (min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min);\r\n    },\r\n    randomRgbColor (min, max) {\r\n      let r = this.randomNum(min, max)\r\n      let g = this.randomNum(min, max)\r\n      let b = this.randomNum(min, max)\r\n      return `rgb(${r},${g},${b})`\r\n    },\r\n    randomRgbaColor (min, max, opacity) {\r\n      let r = this.randomNum(min, max)\r\n      let g = this.randomNum(min, max)\r\n      let b = this.randomNum(min, max)\r\n      return `rgb(${r},${g},${b}, ${opacity})`\r\n    },\r\n    drawImg () {\r\n      this.ctx.textAlign = \"center\";\r\n      this.ctx.textBaseline = \"middle\";\r\n      this.ctx.lineWidth = 1;\r\n      for(let i = 0; i < this.codeLength; i++){\r\n        this.drawText(this.captchaCode[i], i);\r\n      }\r\n\r\n    },\r\n    drawText (txt, i) {\r\n      let ctx = this.ctx;\r\n      ctx.shadowColor = this.calcColor();\r\n      ctx.shadowBlur = this.randomNum(0, this.textFuzzy);\r\n      ctx.shadowOffsetY = this.height * 2;\r\n      let fontSize = this.randomNum(this.fontSizeMin, this.fontSizeMax);\r\n      \r\n      ctx.font = `${fontSize}px ${this.fontFamily}`;\r\n\r\n      let x = (i + 1) * (this.width / (this.codeLength + 1));\r\n      let diff = (this.height - fontSize - 6) / 2;\r\n      let y = this.height / 2 - this.height * 2;\r\n      y+= this.randomNum(-Math.abs(diff) + 3,Math.abs(diff) + 3);\r\n      var deg = this.randomNum(-45, 45);\r\n      // 修改坐标原点和旋转角度\r\n      ctx.translate(x, y);\r\n      ctx.rotate(deg * Math.PI / 180);\r\n\r\n      // 实心或空心字\r\n      switch(this.fontStyle){\r\n        // case 'both':\r\n        //   i % 2 ? ctx.fillText(txt, 0, 0): ctx.strokeText(txt, 0, 0);\r\n        //   break;\r\n        case 'line':\r\n          ctx.strokeText(txt, 0, 0);\r\n          break;\r\n        case 'solid':\r\n          ctx.fillText(txt, 0, 0);\r\n          break;\r\n        default:\r\n          i % 2 ? ctx.fillText(txt, 0, 0): ctx.strokeText(txt, 0, 0);\r\n      }\r\n      // 恢复坐标原点和旋转角度\r\n      ctx.rotate(-deg * Math.PI / 180);\r\n      ctx.translate(-x, -y);\r\n    },\r\n    calcColor () {\r\n      let color = this.randomRgbColor(0, 255);\r\n      let colorNum = 0;\r\n      if(this.colors.length){\r\n        colorNum = 2;\r\n        color = this.colors[this.randomNum(0, this.colors.length)];\r\n      } else {\r\n        let colorVals = [];\r\n        switch(this.bgColor.trim().length){\r\n          case 4:\r\n            let one = this.bgColor.substr(1,1);\r\n            colorVals.push(parseInt(one += one, 16));\r\n            let two = this.bgColor.substr(2,1);\r\n            colorVals.push(parseInt(two += two, 16));\r\n            let thr = this.bgColor.substr(3,1);\r\n            colorVals.push(parseInt(thr += thr, 16));\r\n            break;\r\n          case 7:\r\n            colorVals.push(parseInt(this.bgColor.substr(1,2), 16));\r\n            colorVals.push(parseInt(this.bgColor.substr(3,2), 16));\r\n            colorVals.push(parseInt(this.bgColor.substr(5,2), 16));\r\n            break;\r\n          case 11:\r\n            colorVals = [1000,1000, 1000];\r\n          default:\r\n            colorVals = this.bgColor.replace(/rgb\\(|\\)|rgba\\(/g,'').split(',');\r\n        }\r\n        let textColorVals = color.replace(/rgb\\(|\\)|rgba\\(/g,'').split(',');\r\n\r\n        textColorVals.map((item, i) => {\r\n          if(Math.abs(item - colorVals[i]) > 80){\r\n            colorNum++\r\n          }\r\n        })\r\n      }\r\n\r\n      if(colorNum > 1){\r\n        return color;\r\n      } else {\r\n        return this.calcColor();\r\n      }\r\n    },\r\n    valid (code) {\r\n      return code.toLocaleLowerCase() === this.captchaCode.toLocaleLowerCase();\r\n    },\r\n    drawLine () {\r\n      // 绘制干扰线\r\n      let ctx = this.ctx\r\n      // debugger;\r\n      for (let i = 0; i < this.lineNumber; i++) {\r\n        ctx.beginPath()\r\n\r\n        ctx.shadowColor = this.randomRgbaColor(this.lineColorMin, this.lineColorMax, this.lineColorOpacity);\r\n        ctx.shadowBlur = this.randomNum(0, this.lineFuzzy);\r\n        ctx.shadowOffsetY = this.height * 2;\r\n        ctx.lineWidth = this.randomNum(2, this.lineWidth);\r\n\r\n        let startX = this.randomNum(0, this.width);\r\n        let startY = this.randomNum(0, this.height) - this.height * 2;\r\n        ctx.moveTo(startX, startY);\r\n\r\n        let endX = this.randomNum(0, this.width);\r\n        let endY = this.randomNum(0, this.height) - this.height * 2;\r\n        ctx.lineTo(endX, endY);\r\n\r\n        ctx.stroke()\r\n      }\r\n    },\r\n    \r\n    drawDot () {\r\n      let ctx = this.ctx\r\n      // 绘制干扰点\r\n      for (let i = 0; i < this.dotNumber; i++) {\r\n        ctx.shadowColor = this.randomRgbaColor(this.dotColorMin, this.dotColorMax, this.dotColorOpacity);\r\n        ctx.shadowBlur = this.randomNum(0, this.dotFuzzy);\r\n        ctx.shadowOffsetY = this.height * 2;\r\n\r\n        ctx.beginPath();\r\n        let x = this.randomNum(0, this.width)\r\n        let y = this.randomNum(0, this.height) - this.height * 2\r\n        ctx.arc(x, y, this.randomNum(1, this.dotR), 0, 2 * Math.PI);\r\n        ctx.fill();\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./libs/src/main.js"],"sourceRoot":""}